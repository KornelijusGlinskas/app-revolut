(function(t){function e(e){for(var i,l,c=e[0],r=e[1],o=e[2],m=0,d=[];m<c.length;m++)l=c[m],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,o||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,c=1;c<s.length;c++){var r=s[c];0!==n[r]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},n={app:0},a=[];function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/app-revolut/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var u=r;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0aa1":function(t,e,s){"use strict";var i=s("c081"),n=s.n(i);n.a},"1ad4":function(t,e,s){"use strict";var i=s("2b3f"),n=s.n(i);n.a},"2b3f":function(t,e,s){},"2fec":function(t,e,s){"use strict";var i=s("c31f"),n=s.n(i);n.a},"33a2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("app-sidebar"),s("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[s("router-view",{staticClass:"page-content p-4 md:p-8"})],1),s("app-alert")],1)},a=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-1/6 fixed h-full flex flex-col justify-between bg-black text-white text-left md:w-1/4",attrs:{id:"nav"}},[t._m(0),s("nav",{staticClass:"nav__items w-full"},[s("ul",[s("router-link",{staticClass:"nav__item",attrs:{to:"/",tag:"li"}},[s("a",{staticClass:"item__link"},[s("span",{staticClass:"icon-clock item__icon"}),s("span",{staticClass:"item__text hidden md:block"},[t._v("Queue")])])]),s("router-link",{staticClass:"nav__item",attrs:{to:"/specialist",tag:"li"}},[s("a",{staticClass:"item__link"},[s("span",{staticClass:"icon-specialist item__icon"}),s("span",{staticClass:"item__text hidden md:block"},[t._v("Specialist")])])]),s("router-link",{staticClass:"nav__item",attrs:{to:"/user",tag:"li"}},[s("a",{staticClass:"item__link"},[s("span",{staticClass:"icon-user item__icon"}),s("span",{staticClass:"item__text hidden md:block"},[t._v("User")])])]),s("router-link",{staticClass:"nav__item",attrs:{to:"/statistics",tag:"li"}},[s("a",{staticClass:"item__link"},[s("span",{staticClass:"icon-statistics item__icon"}),s("span",{staticClass:"item__text hidden md:block"},[t._v("Statistics")])])]),s("router-link",{staticClass:"nav__item",attrs:{to:"/admin",tag:"li"}},[s("a",{staticClass:"item__link"},[s("span",{staticClass:"icon-settings item__icon"}),s("span",{staticClass:"item__text hidden md:block"},[t._v("Admin")])])])],1)]),t._m(1)])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav__logo p-4 md:p-8 flex justify-center"},[i("img",{staticClass:"logo__desktop hidden md:block",attrs:{src:s("a346"),alt:"light blue revolut logo"}}),i("img",{staticClass:"logo__mobile block md:hidden",attrs:{src:s("a6c3"),alt:"light blue revolut logo R letter"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav__copyright p-8 text-sm"},[s("p",{staticClass:"hidden md:block"},[t._v("2019 © all rights reserved")])])}],r={},o=r,u=(s("1ad4"),s("2877")),m=Object(u["a"])(o,l,c,!1,null,null,null),d=m.exports,p={name:"App",components:{appSidebar:d},created:function(){this.$store.dispatch("initSpecialists")},mounted:function(){var t=window.localStorage;t.getItem("specialists")&&t.getItem("clients")&&this.$store.dispatch("fetchData")}},f=p,_=(s("5c0b"),Object(u["a"])(f,n,a,!1,null,null,null)),v=_.exports,h=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"queue"},[s("button",{staticClass:"toggle-btn shadow-lg hidden md:flex",on:{click:t.fullScreen}},[s("span",{class:t.isFullscreen?"icon-shrink":"icon-expand"})]),s("status"),s("queue-list")],1)},g=[],x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status w-full flex flex-auto flex-col justify-between py-4 md:flex-row"},[s("div",{staticClass:"status__done flex"},[s("div",{staticClass:"circle circle--done"}),s("p",{staticClass:"font-bold ml-4 text-xs md:text-base"},[t._v("Done")])]),s("div",{staticClass:"status__pending flex mt-2 md:mt-0"},[s("div",{staticClass:"circle circle--pending"}),s("p",{staticClass:"font-bold ml-4 text-xs md:text-base"},[t._v("Pending")])]),s("div",{staticClass:"status__ongoing flex mt-2 md:mt-0"},[s("div",{staticClass:"circle circle--ongoing"}),s("p",{staticClass:"font-bold ml-4 text-xs md:text-base"},[t._v("Ongoing")])])])}],w={},T=Object(u["a"])(w,x,C,!1,null,null,null),y=T.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-4 md:py-8"},[t.clients.length?t._e():s("button",{staticClass:"btn btn--blue w-full mb-4 md:w-2/5",on:{click:t.loadClients}},[t._v("Load clients list")]),s("transition",{attrs:{name:"slide-fade"}},[t.clients.length?s("div",{staticClass:"queue__lightboard"},[s("div",{staticClass:"queue__tags w-full flex items-center px-1 py-2 text-grey md:px-4"},[s("div",{staticClass:"w-1/5"},[t._v("Unique Number")]),s("div",{staticClass:"w-1/5"},[t._v("Name")]),s("div",{staticClass:"w-1/5"},[t._v("Specialist")]),s("div",{staticClass:"w-1/5"},[t._v("Scheduled time")]),s("div",{staticClass:"w-1/5"},[t._v("Left to wait")])]),t._l(t.clients,(function(t){return s("queue-client",{key:t.number,attrs:{client:t}})}))],2):t._e()]),t.clients.length?t._e():s("div",[s("p",{staticClass:"font-bold"},[t._v("All clients sessions are over. 😢 Add new ones in Admin Page or load with the button at the top! 👨🏼‍💻")])])],1)},E=[],$=(s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isDone(t.client)?t._e():s("div",{staticClass:"queue__person relative w-full flex items-center rounded shadow-lg font-bold px-1 py-3 mb-4 md:p-4"},[s("div",{staticClass:"person__number w-1/5"},[t._v("#"+t._s(t.client.number))]),s("div",{staticClass:"person__name w-1/5"},[t._v(t._s(t.client.name))]),s("div",{staticClass:"person__specialist w-1/5"},[t._v(t._s(t.client.specialist))]),s("div",{staticClass:"person__scheduled-time w-1/5"},[t._v(t._s(t.formatDate(t.client.expTime,"p")))]),s("div",{staticClass:"person__wait-time w-1/5"},[t._v(t._s(t.client.timeLeft))]),s("div",{staticClass:"person__status-circle circle",class:"circle--"+t.client.status})])}),k=[],O={props:["client"],methods:{isDone:function(t){return"done"===t.status}}},I=O,A=Object(u["a"])(I,$,k,!1,null,null,null),L=A.exports,j={components:{queueClient:L},methods:{loadClients:function(){var t=this;this.$http.get("/data/clients.json").then((function(e){var s=e.data;s.forEach((function(e){t.$store.dispatch("assignClient",e)})),t.$store.dispatch("showAlert",{message:"The data was loaded! 👨🏼‍💻"})})).catch((function(e){t.$store.dispatch("showAlert",{type:"error",message:"Sorry, could not retrieve clients data. 😭"})}))}},computed:{specialists:function(){return this.$store.getters.specialists},clients:function(){return this.$store.getters.clients}}},N=j,q=Object(u["a"])(N,S,E,!1,null,null,null),D=q.exports,Q={name:"queue",data:function(){return{isFullscreen:!1}},components:{Status:y,QueueList:D},methods:{fullScreen:function(){this.isFullscreen=!this.isFullscreen,this.isFullscreen?this.$el.requestFullscreen():document.exitFullscreen()}}},P=Q,R=(s("0aa1"),Object(u["a"])(P,b,g,!1,null,null,null)),U=R.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"specialist"},[s("h1",{staticClass:"font-bold text-3xl mb-8 md:text-5xl md:mb-16"},[t._v("Specialist Panel")]),s("specialist-queue")],1)},F=[],J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"specialist__search w-full md:flex md:justify-between"},[s("div",{staticClass:"search__specialist w-full md:w-2/5 md:mr-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.specQuery,expression:"specQuery"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.specQuery=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select specialist")]),t._l(t.specialists,(function(e){return s("option",{key:e.name},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"search__name w-full mt-4 md:w-3/5 md:mt-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameQuery,expression:"nameQuery"}],staticClass:"input",attrs:{type:"text",placeholder:"Search by client's name..."},domProps:{value:t.nameQuery},on:{input:function(e){e.target.composing||(t.nameQuery=e.target.value)}}})])]),s("div",{staticClass:"specialist__queue w-full mt-8"},[s("h2",{staticClass:"font-bold text-xl text-left md:text-3xl"},[t._v(t._s(t.specQuery)+" Clients queue")]),t._m(0),s("div",{staticClass:"queue__list w-full flex flex-wrap md:-mx-4"},t._l(t.clients,(function(e,i){return s("div",{key:e.number,staticClass:"w-full p-4 md:w-1/2 lg:w-1/3"},[s("div",{staticClass:"list__item relative p-4"},[s("p",{staticClass:"list__number text-grey"},[t._v("\n            Unique Number:\n            "),s("strong",[t._v("#"+t._s(e.number))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n            Client name:\n            "),s("strong",[t._v(t._s(e.name))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n            Specialist:\n            "),s("strong",[t._v(t._s(e.specialist))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n            Scheduled Time:\n            "),s("strong",[t._v(t._s(t.formatDate(e.expTime,"p")))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n            Status:\n            "),s("strong",[t._v(t._s(e.status))])]),s("button",{staticClass:"btn btn--green btn--full mt-4",class:{"btn--disabled":t.isDone(e)},attrs:{href:"#"},on:{click:function(s){return t.setDone(e,i)}}},[s("span",{staticClass:"icon-checkmark text-white mr-2"}),t._v("\n            "+t._s(t.isDone(e)?"":"mark as done")+"\n          ")]),s("div",{staticClass:"person__status-circle circle",class:"circle--"+e.status})])])})),0)])])},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info flex items-center mb-2"},[s("span",{staticClass:"icon-info mr-2 text-green"}),s("p",{staticClass:"text-grey text-left text-xs md:text-base"},[t._v("Press green box with a tick in order to mark it as done")])])}],B=(s("6762"),s("2fdb"),s("7f7f"),{data:function(){return{specQuery:"",nameQuery:""}},methods:{isDone:function(t){return"done"===t.status},setDone:function(t,e){"done"===t.status?this.$store.dispatch("showAlert",{message:"Upsy! ".concat(t.name,"'s session is over 😓"),type:"error"}):(this.$store.dispatch("setToDone",e),this.$store.dispatch("showAlert",{message:"".concat(t.name,"'s session is done 👏🏼")}))}},computed:{specialists:function(){return this.$store.getters.specialists},clients:function(){var t=this;return this.$store.getters.clients.filter((function(e){return!(!e.specialist.includes(t.specQuery)||!e.name.toLowerCase().includes(t.nameQuery.toLowerCase()))}))}}}),W=B,G=(s("8e9d"),Object(u["a"])(W,J,H,!1,null,null,null)),V=G.exports,z={name:"specialist",components:{SpecialistQueue:V}},K=z,X=Object(u["a"])(K,M,F,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin flex flex-col items-center"},[s("h1",{staticClass:"font-bold text-3xl mb-8 md:text-5xl md:mb-16"},[t._v("Admin Panel")]),s("register"),s("actions")],1)},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin__actions w-full p-8 mt-16 lg:w-3/5 text-left"},[s("h2",{staticClass:"font-bold text-xl text-left mb-4 md:mb-8 md:text-3xl"},[t._v("Actions")]),t._m(0),s("button",{staticClass:"btn btn--blue btn--full",on:{click:t.saveLocal}},[t._v("Save Data")]),t._m(1),s("button",{staticClass:"btn btn--blue btn--full",on:{click:t.removeLocal}},[t._v("Remove Data")])])},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info flex items-center mb-2"},[s("span",{staticClass:"icon-info mr-2 text-blue"}),s("p",{staticClass:"text-grey text-xs md:text-base"},[t._v("Save queue data into local storage")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info flex items-center mt-4 mb-2"},[s("span",{staticClass:"icon-info mr-2 text-blue"}),s("p",{staticClass:"text-grey text-xs md:text-base"},[t._v("Remove queue data from local storage")])])}],it={computed:{specialists:function(){return this.$store.getters.specialists},clients:function(){return this.$store.getters.clients},tickets:function(){return this.$store.getters.tickets}},methods:{saveLocal:function(){window.localStorage.setItem("specialists",JSON.stringify(this.specialists)),window.localStorage.setItem("clients",JSON.stringify(this.clients)),window.localStorage.setItem("tickets",this.tickets),this.$store.dispatch("showAlert",{message:"The data was saved! 💻"})},removeLocal:function(){window.localStorage.removeItem("specialists"),window.localStorage.removeItem("specialists"),this.$store.dispatch("showAlert",{message:"The data was removed! 🗑"})}}},nt=it,at=Object(u["a"])(nt,et,st,!1,null,null,null),lt=at.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin__register w-full p-8 lg:w-3/5 text-left"},[s("h2",{staticClass:"font-bold text-xl text-left mb-4 md:mb-8 md:text-3xl"},[t._v("Register in queue")]),t._m(0),s("form",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"nameInput",staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.specialist,expression:"specialist"}],staticClass:"mt-4",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.specialist=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select specialist")]),t._l(t.specialists,(function(e){return s("option",{key:e.name},[t._v(t._s(e.name))])}))],2),s("button",{staticClass:"btn btn--blue btn--full mt-8",on:{click:function(e){return e.preventDefault(),t.registerClient(e)}}},[t._v("Register")]),t.specialist?s("div",{staticClass:"register__expected-time mt-4 text-sm flex items-center"},[s("span",{staticClass:"icon-clock mr-2 text-base text-red"}),s("p",{staticClass:"text-grey"},[t._v("Expected wait time for the specialist: "+t._s(t.expectedTime(t.specialist))+" seconds")])]):t._e()])])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info flex items-center mb-2"},[s("span",{staticClass:"icon-info mr-2 text-blue"}),s("p",{staticClass:"text-grey text-xs md:text-base"},[t._v("Fill the data to register new person")])])}],ot=(s("20d6"),{data:function(){return{name:"",specialist:""}},computed:{specialists:function(){return this.$store.getters.specialists}},methods:{registerClient:function(){this.validateForm()&&(this.$store.dispatch("assignClient",{name:this.name,specialist:this.specialist}),this.$store.dispatch("showAlert",{message:"".concat(this.name," was successfully registered! 🎉")}),this.name="",this.specialist="",this.$refs.nameInput.focus())},validateForm:function(){var t="";return!(!this.name||!this.specialist||"Vardenis"===this.name)||(""===this.name&&""===this.specialist&&(t="Please fill fields ✍️"),""===this.name&&""!==this.specialist&&(t="Name field is missing 🤔"),""!==this.name&&""===this.specialist&&(t="Please select specialist 👨‍💼"),"Vardenis"===this.name&&(t='Sorry "Vardenis" isn\'t available 🙅‍♂️'),this.$store.dispatch("showAlert",{message:t,type:"error"}),!1)},expectedTime:function(t){var e=this.specialists.findIndex((function(e){return e.name===t}));return this.$store.getters.specialists[e].queueTime}},mounted:function(){this.$refs.nameInput.focus()}}),ut=ot,mt=Object(u["a"])(ut,ct,rt,!1,null,null,null),dt=mt.exports,pt={name:"admin",components:{Actions:lt,Register:dt}},ft=pt,_t=(s("2fec"),Object(u["a"])(ft,Z,tt,!1,null,"45c0575c",null)),vt=_t.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("h1",{staticClass:"font-bold text-3xl mb-8 md:text-5xl md:mb-16"},[t._v("User Panel")]),s("specialist-queue")],1)},bt=[],gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"user__search w-full md:flex md:justify-between"},[s("div",{staticClass:"search__number w-full"},[s("div",{staticClass:"search__name w-full mt-4 md:mt-0"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.numberQuery,expression:"numberQuery"}],staticClass:"input",attrs:{list:"clients-numbers",type:"text",placeholder:"Search by client's number... (ex: #1)"},domProps:{value:t.numberQuery},on:{input:function(e){e.target.composing||(t.numberQuery=e.target.value)}}}),s("datalist",{attrs:{id:"clients-numbers"}},t._l(t.clients,(function(e){return s("option",{key:e.number},[t._v(t._s(e.number)+" ("+t._s(e.name)+")")])})),0)])])]),s("transition",{attrs:{name:"slide-in",mode:"out-in"}},[t.client||""===t.numberQuery?t._e():s("p",{staticClass:"mt-8"},[t._v("The client with number ("+t._s(t.numberQuery)+") doesn't exist")]),t.client?s("div",{staticClass:"user__info w-full mt-8"},[s("div",{staticClass:"list__item relative p-8"},[s("h2",{staticClass:"text-3xl"},[s("strong",[t._v(t._s(t.client.name))]),t._v("\n          #"+t._s(t.client.number)+"\n        ")]),"pending"===t.client.status?s("h3",{staticClass:"list__time mb-4 text-xl"},[t._v("\n          Time Left:\n          "),s("span",{staticClass:"font-bold text-blue"},[t._v(t._s(t.client.timeLeft))])]):t._e(),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n          Specialist:\n          "),s("strong",[t._v(t._s(t.client.specialist))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n          Registered Time:\n          "),s("strong",[t._v(t._s(t.formatDate(t.client.regTime,"p")))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n          Scheduled Time:\n          "),s("strong",[t._v(t._s(t.formatDate(t.client.expTime,"p")))])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n          Session Time:\n          "),s("strong",[t._v(t._s(t.client.sessionTime)+" seconds")])]),s("p",{staticClass:"list__number mt-2 text-grey"},[t._v("\n          Status:\n          "),s("strong",[t._v(t._s(t.client.status))])]),s("div",{staticClass:"list__actions mt-8 block md:flex"},[s("button",{staticClass:"btn btn--orange btn--half mb-2 md:mb-0 md:mr-2",on:{click:function(e){return t.delayMeeting(t.client)}}},[t._v("Delay meeting")]),s("button",{staticClass:"btn btn--red btn--half mr-2",on:{click:function(e){return t.cancelMeeting(t.client)}}},[t._v("Cancel meeting")])]),s("div",{staticClass:"person__status-circle circle",class:"circle--"+t.client.status})])]):t._e()])],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info flex items-center mb-2"},[s("span",{staticClass:"icon-info mr-2 text-green"}),s("p",{staticClass:"text-grey text-left text-xs md:text-base"},[t._v("Enter the client's number or select from the list:")])])}],Ct={data:function(){return{numberQuery:""}},methods:{delayMeeting:function(t){if(this.validateClient(t)){var e=this.clients.filter((function(e){return e.specialist===t.specialist&&"pending"===e.status})),s=e.indexOf(t);this.isLast(t.name,s,e.length-1)&&this.$store.dispatch("switchClients",{A:e[s],B:e[s+1]})}},cancelMeeting:function(t){this.validateClient(t)&&(this.$store.dispatch("showAlert",{message:"".concat(t.name," is removed from queue!")}),this.$store.dispatch("cancelClient",this.clients.indexOf(t)),this.numberQuery="")},validateClient:function(t){return"done"!==t.status&&"ongoing"!==t.status||(this.$store.dispatch("showAlert",{message:"".concat(t.name,"'s session is ").concat(t.status),type:"error"}),!1)},isLast:function(t,e,s){return console.log(s,e),e!==s||(this.$store.dispatch("showAlert",{message:"".concat(t," is the last client"),type:"error"}),!1)}},computed:{specialists:function(){return this.$store.getters.specialists},clients:function(){return this.$store.getters.clients},client:function(){var t=this,e=this.clients.findIndex((function(e){return e.number===parseInt(t.numberQuery)}));return this.clients[e]?this.clients[e]:null}}},wt=Ct,Tt=(s("9cf2"),Object(u["a"])(wt,gt,xt,!1,null,"06166322",null)),yt=Tt.exports,St={name:"specialist",components:{SpecialistQueue:yt}},Et=St,$t=Object(u["a"])(Et,ht,bt,!1,null,null,null),kt=$t.exports;i["a"].use(h["a"]);var Ot=new h["a"]({mode:"hash",base:"/app-revolut/",routes:[{path:"/",name:"queue",component:U},{path:"/specialist",name:"specialist",component:Y},{path:"/user",name:"user",component:kt},{path:"/admin",name:"admin",component:vt},{path:"*",name:"404",component:U}]}),It=(s("55dd"),s("2f62")),At=s("e703"),Lt=s("a959"),jt=s("0adb"),Nt=s("b166"),qt=s("ba1e"),Dt=s("ef1b"),Qt={getCurrentTime:function(){return Object(At["a"])(new Date)},addTime:function(t,e){return Object(At["a"])(Object(jt["a"])(t,e))},formatDate:function(t,e){return Object(Nt["a"])(t,e)},waitTime:function(t){if("done"===t.status)return null;var e={},s=Object(jt["a"])(t.expTime,t.sessionTime);return Object(qt["a"])(t.expTime)?(e.left=Object(Dt["a"])(t.expTime,{includeSeconds:!0}),e.status="pending"):Object(qt["a"])(s)?(e.left="-",e.status="ongoing"):(e.left="",e.status="done"),e}},Pt={methods:Qt},Rt=[{name:"B. Gates",avgTime:600,queueTime:0,clients:[]},{name:"E. Musk",avgTime:51,queueTime:0,clients:[]},{name:"J. Bezos",avgTime:112,queueTime:0,clients:[]}];i["a"].use(It["a"]);var Ut=new It["a"].Store({state:{ticketNum:1,clients:[],specialists:[],alert:null},mutations:{FETCH_DATA:function(t){t.ticketNum=JSON.parse(window.localStorage.getItem("tickets")),t.specialists=JSON.parse(window.localStorage.getItem("specialists")),t.clients=JSON.parse(window.localStorage.getItem("clients"))},SHOW_ALERT:function(t,e){t.alert=e,setTimeout((function(){t.alert=null}),2e3)},SET_SPECIALISTS:function(t,e){t.specialists=e},UPDATE_SPECIALIST_TIMER:function(t,e){var s=t.specialists.findIndex((function(t){return t.name===e.specialist})),i=t.specialists[s];i.queueTime-=i.avgTime},RECALCULATE_CLIENTS_TIMER:function(t,e){var s=t.specialists[e];s.queueTime=0,t.clients.forEach((function(t){t.specialist===s.name&&(t.expTime=Qt.addTime(t.regTime,s.queueTime)),s.queueTime+=s.avgTime}))},ASSIGN_CLIENT:function(t,e){var s=t.specialists.findIndex((function(t){return t.name===e.specialist})),i=t.specialists[s],n=Object(At["a"])(new Date),a={number:t.ticketNum++,name:e.name,specialist:e.specialist,regTime:n,expTime:Qt.addTime(n,i.queueTime),sessionTime:i.avgTime,timeLeft:"",status:""};i.queueTime+=i.avgTime,t.clients.push(a),i.clients.push(a)},QUEUE_TIMER:function(t,e){var s=this,i=t.clients.findIndex((function(t){return t.number===e})),n=t.clients[i],a=function(){var e=Qt.waitTime(n);if(null==e){clearInterval(a),n.timeLeft="";var i=Object(Lt["a"])(Qt.getCurrentTime(),n.expTime);n.sessionTime=i>0?i:0,t.clients.push(t.clients.splice(t.clients.indexOf(n),1)[0]),s.commit("UPDATE_SPECIALIST_TIMER",n)}else n.status=e.status,n.timeLeft=e.left};a(),a=setInterval(a,1e3)},UPDATE_CLIENT:function(t,e){var s=t.clients.findIndex((function(t){return t.number===e.number}));t.clients[s].timeLeft=e.timeLeft},SET_TO_DONE:function(t,e){t.clients[e].status="done"},SWITCH_CLIENTS:function(t,e){var s=t.clients.indexOf(e.A),i=t.clients.indexOf(e.B),n=t.clients[s],a=t.clients[i],l=n.expTime;n.expTime=a.expTime,a.expTime=l;var c=n;t.clients[s]=a,t.clients[i]=c},CANCEL_CLIENT:function(t,e){var s=t.specialists.findIndex((function(s){return s.name===t.clients[e].specialist})),i=t.specialists[s];i.queueTime-=i.avgTime,t.clients.splice(e,1),this.commit("RECALCULATE_CLIENTS_TIMER",s)}},actions:{fetchData:function(t){var e=t.commit;e("FETCH_DATA")},showAlert:function(t,e){var s=t.commit;s("SHOW_ALERT",e)},initSpecialists:function(t){var e=t.commit;e("SET_SPECIALISTS",Rt)},assignClient:function(t,e){var s=t.commit,i=t.state;s("ASSIGN_CLIENT",e),s("QUEUE_TIMER",i.ticketNum-1)},updateClient:function(t,e){var s=t.commit;s("UPDATE_CLIENT",e)},setToDone:function(t,e){var s=t.commit;t.state;s("SET_TO_DONE",e)},switchClients:function(t,e){var s=t.commit;s("SWITCH_CLIENTS",e)},cancelClient:function(t,e){var s=t.commit;s("CANCEL_CLIENT",e)}},getters:{specialists:function(t){return t.specialists},clients:function(t){return t.clients.sort((function(t,e){return t.specialist>e.specialist?1:e.specialist>t.specialist?-1:0}))},alert:function(t){return t.alert},tickets:function(t){return t.ticketNum}}}),Mt=s("bc3a"),Ft=s.n(Mt),Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-fade"}},[t.alert?s("div",{staticClass:"alert",class:"error"===t.alert.type?"alert--error":"alert--success"},[t._v(t._s(t.alert.message))]):t._e()])},Ht=[],Bt={computed:{alert:function(){return this.$store.getters.alert}}},Wt=Bt,Gt=Object(u["a"])(Wt,Jt,Ht,!1,null,null,null),Vt=Gt.exports;i["a"].config.productionTip=!1,Ft.a.defaults.baseURL="/app-revolut/",i["a"].prototype.$http=Ft.a,i["a"].component("app-alert",Vt),i["a"].mixin(Pt),new i["a"]({router:Ot,store:Ut,render:function(t){return t(v)},created:function(){if(sessionStorage.redirect){var t=sessionStorage.redirect;delete sessionStorage.redirect,this.$router.push(t)}}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var i=s("5e27"),n=s.n(i);n.a},"5e27":function(t,e,s){},7867:function(t,e,s){},"8e9d":function(t,e,s){"use strict";var i=s("33a2"),n=s.n(i);n.a},"9cf2":function(t,e,s){"use strict";var i=s("7867"),n=s.n(i);n.a},a346:function(t,e,s){t.exports=s.p+"img/revolut-logo.f5c39927.svg"},a6c3:function(t,e,s){t.exports=s.p+"img/revolut-logo-r-letter.09b4e1a1.svg"},c081:function(t,e,s){},c31f:function(t,e,s){}});
//# sourceMappingURL=app.7ee965fd.js.map